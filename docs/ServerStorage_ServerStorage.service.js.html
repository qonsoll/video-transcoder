<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: ServerStorage/ServerStorage.service.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: ServerStorage/ServerStorage.service.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const _ = require('lodash')

/**
 * This class helps to work with requests data.
 * Add, remove, get request data from this container
 * @module ServerStorage
 */

class ServerStorage {
  /**
   * ServerStorage doesn't require any params to be initialized
   *
   * @constructor
   */
  constructor() {
    this.storage = []
  }

  /**
   * This function returns copy of storage container
   *
   * @method getBuffer
   * @returns {Array} - copy of storage container
   */
  getBuffer() {
    return this.storage.slice()
  }

  /**
   * This function adds new item to storage container
   *
   * @method addItem
   * @param {any} item
   * @returns {ServerStorage} constant pointer to constant instance of ServerStorage
   */
  addItem(item) {
    this.storage.push(item)
    return this
  }

  /**
   * This function removes last item of storage container
   *
   * @method removeItem
   * @returns {any} removed item from container
   */
  removeItem() {
    return this.storage.pop()
  }

  /**
   * This function finds and returns data from storage container
   * that was sent during this session
   *
   * @method findItem
   * @param {string} id - id of session that send request to the server
   * @returns {object} object that contains data that was send into request during this session
   */
  findItem(id) {
    const item = _.remove(this.storage, (it) => it.sessionId === id)
    if (!item) return new Error("Your connection doesn't exist")
    return item[0]
  }

  /**
   * This method returns item from storage container if such exists
   * or undefined otherwise
   *
   * @method getItem
   * @param {object} item - item that is to be found in storage container
   * @returns {object|undefined}
   * - object from storage container if item was found
   * - undefined otherwise
   */
  getItem(item) {
    return this.storage.find((it) => it === item)
  }
}

// Storage should be only one to the whole application
// so we create instance right here and export this instance as singleton pattern class
const StorageService = new ServerStorage()

module.exports = StorageService
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Application.html">Application</a></li><li><a href="module-Database.html">Database</a></li><li><a href="module-File.html">File</a></li><li><a href="module-ServerStorage.html">ServerStorage</a></li><li><a href="module-Transcription.html">Transcription</a></li><li><a href="module-Video.html">Video</a></li></ul><h3>Classes</h3><ul><li><a href="module-Application-ApplicationController.html">ApplicationController</a></li><li><a href="module-Application-ApplicationService.html">ApplicationService</a></li><li><a href="module-Database-DatabaseService.html">DatabaseService</a></li><li><a href="module-File-FileService.html">FileService</a></li><li><a href="module-ServerStorage-ServerStorage.html">ServerStorage</a></li><li><a href="module-Transcription-TranscriptionService.html">TranscriptionService</a></li><li><a href="module-Video-VideoController.html">VideoController</a></li><li><a href="module-Video-VideoService.html">VideoService</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Fri Sep 24 2021 18:25:21 GMT+0300 (GMT+03:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
